@using Abp.Timing
@using Pulsesync.IngoTPCC.Authorization
<div class="row" id="Profile" ng-controller="tenant.views.person.tabs.statusTab as statusTab">
    <div class="col-md-12 col-sm-12 col-xs-12 no-padding">
        <div class="col-md-6 col-sm-12">
            @if (IsGranted(AppPermissions.Pages_Tenant_Allergies_View))
            {
                <allergies-card id="Allergies" maintitle="'@L("Allergies")'" mode="vm.isNew ? 'new' : 'view'" template="'person'" person-id="vm.person.id" is-referral="false" referral-id="null" is-patient="vm.person.isPatient"></allergies-card>
            }
            @if (IsGranted(AppPermissions.Pages_Tenant_Prescriptions))
            {
                <prescription-card id="Prescriptions" mode="vm.isNew ? 'new' : 'view'" person-id="vm.person.id"></prescription-card>
            }
            @if (IsGranted(AppPermissions.Pages_Tenant_Immunization_View))
            {
                <immunization-card id="Immunization" maintitle="'@L("Immunization")'" mode="vm.isNew ? 'new' : 'view'" template="'person'" person-id="vm.person.id" is-patient="vm.person.isPatient"></immunization-card>
            }
            @if (IsGranted(AppPermissions.Pages_Tenant_Investigations))
            {
                <investigations-card id="Investigations" mode="vm.isNew ? 'new' : 'view'" person-id="vm.person.id" referral-id="null"></investigations-card>
            }
            @if (IsGranted(AppPermissions.Pages_Tenant_Diagnosis_View))
            {
                <diagnosis-card id="Diagnosis" maintitle="'@L("Diagnosis")'" mode="vm.isNew ? 'new' : 'view'" template="'person'" person-id="vm.person.id" is-patient="vm.person.isPatient"></diagnosis-card>
            }
            @if (IsGranted(AppPermissions.Pages_Tenant_Raisoft_View))
            {
                <raisoft-card id="Raisoft" maintitle="'@L("InterRAIAssessment")'" person-id="vm.person.id" mode="'view'" is-patient="vm.person.isPatient"></raisoft-card>

            }
            @if (IsGranted(AppPermissions.Pages_Tenant_Assessment))
            {
                @*<assessment-person-view id="Assessment" maintitle="'@L("Assessment")'" mode="vm.isNew ? 'new' : 'view'" template="'person'" person-id="vm.person.id" is-patient="vm.person.isPatient"></assessment-person-view>*@
                <assessment-person-index id="Assessment" maintitle="'@L("Assessment")'" mode="vm.isNew ? 'new' : 'view'" template="'person'" person-id="vm.person.id" is-patient="vm.person.isPatient"></assessment-person-index>
            }
        </div>
        <div class="col-md-6 col-sm-12">
            @if (IsGranted(AppPermissions.Pages_Tenant_MedicalHistory_View))
            {
                <medical-history-card id="medicalhistories" maintitle="'@L("medicalhistory")'" mode="vm.isNew ? 'new' : 'view'" template="'person'" person-id="vm.person.id" is-referral="false" referral-id="null" is-patient="vm.person.isPatient"></medical-history-card>
            }
            @if (IsGranted(AppPermissions.Pages_Tenant_SpecialCare_View))
            {
                <special-care-card id="specialcares" maintitle="'@L("SpecialCare")'" mode="vm.isNew ? 'new' : 'view'" template="'person'" person-id="vm.person.id" is-patient="vm.person.isPatient"></special-care-card>
            }

            @if (IsGranted(AppPermissions.Pages_Tenant_VitalSign_View))
            {
                <vitalsign-summary id="VitalSigns" maintitle="'@L("VitalSign")'" mode="vm.isNew ? 'new' : 'view'" template="'person'" create-template="'person'" template-datetime-in="" template-datetime-out="" template-id="" person-id="vm.person.id" is-patient="vm.person.isPatient" dissable-creation="false"></vitalsign-summary>
            }
            @if (IsGranted(AppPermissions.Pages_Tenant_MedicalAlert_View))
            {
                <medical-alert-card id="MedicalAlert" maintitle="'@L("MedicalAlert")'" mode="vm.isNew ? 'new' : 'view'" template="'person'" person-id="vm.person.id" is-patient="vm.person.isPatient"></medical-alert-card>
            }
            <time-line-index ng-if="vm.person.isPatient" patient-selected="true" template="'person'" patient-timeline="vm.person.id" patient-fullname="vm.person.fullName" is-patient="vm.person.isPatient" patient-id="vm.person.id" filter="" module="" @*loading="false"*@></time-line-index>
        </div>
    </div>

</div>